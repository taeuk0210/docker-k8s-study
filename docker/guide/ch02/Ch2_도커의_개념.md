# 📘 Chapter 02. 도커의 개념

## 📌 학습 목표

- 도커 학습전 사전 지식 습득
- 도커 관련 기본 개념 학습

## 🔍 학습 내용

### 🔸 2.1.1 운영체제의 개념

- 운영체제는 시스템 소프트웨어로 하드웨어, 소프트웨어 자원을 관리하고  
  이를 위해 스케줄링 기능을 제공하고 프로그램이 실행될 수 있는 환경을 제공하는 역할을 합니다.

- 소프트웨어는 애플리케이션과 운영체제로 나눌 수 있고,  
  운영체제는 커널, OS, OS외 라이브러리로 나눌 수 있습니다.

- 셸(Shell)은 운영체제와 사용자 사이의 인터페이스로 bash, zsh 등이 있습니다.

### 🔸 2.1.2 프로그램, 프로세스, 스레드의 개념

- **프로그램**은 실행 가능한 명령어의 집합을 의미하며 하드 디스크와 같은  
  저장 장치에 저장되어 있지만 메모리에는 올라가지 않은 정적인 상태입니다.

- **프로세스**는 실행 중인 프로그램을 의미하며 동적인 상태의 프로그램을 의미합니다.

- **스레드**는 프로세스가 할당받은 자원을 이용하는  
  **실행 단위**이자 프로세스 내에 실행되는 여러 흐름의 단위를 의미합니다.

### 🔸 2.1.3 네임스페이스의 개념

- **네임스페이스**는 프로세스를 실행할 때 시스템 리소스를 분리해서  
  실행할 수 있도록 도와주는 기능을 의미합니다. 즉 컴퓨터 시스템에서  
  서로 다른 리소스를 구분하기 위한 **식별 방법**이 바로 네임스페이스입니다.

  각각의 기능을 활용하면 프로세스를 격리시켜 충돌을 예방할 수 있음!

  | 네임스페이스 | 의미                             | 역할                        |
  | ------------ | -------------------------------- | --------------------------- |
  | pid          | PID: ProcessID                   | 리눅스 커널의 PID를 분리    |
  | net          | NET: Networking                  | 네트워크 인터페이스를 관리  |
  | ipc          | IPC: Inter Process Communication | 프로세스간 통신을 관리      |
  | mnt          | MNT: Mount                       | 파일 시스템의 마운트를 관리 |
  | uts          | UTS: Unix Timesharing System     | 커널과 버전 식별자를 관리   |

### 🔸 2.2.1 도커의 정의

- 도커는 컨테이너라고 부르는 OS 수준의 가상화 방식으로 소프트웨어를 배포하는 방식을 사용하는 PaaS 제품을 의미합니다.

- **IaaS, PaaS, SaaS 구분**

  | 구성 요소    | On-Premises 🏠 | IaaS 🔧        | PaaS ⚙️        | SaaS 💻   |
  | ------------ | -------------- | -------------- | -------------- | --------- |
  | 애플리케이션 | ✅ 사용자 관리 | ✅ 사용자 관리 | ✅ 사용자 관리 | ❌ 제공됨 |
  | 데이터       | ✅ 사용자 관리 | ✅ 사용자 관리 | ✅ 사용자 관리 | ❌ 제공됨 |
  | 런타임       | ✅ 사용자 관리 | ✅ 사용자 관리 | ❌ 제공됨      | ❌ 제공됨 |
  | 미들웨어     | ✅ 사용자 관리 | ✅ 사용자 관리 | ❌ 제공됨      | ❌ 제공됨 |
  | 운영체제     | ✅ 사용자 관리 | ✅ 사용자 관리 | ❌ 제공됨      | ❌ 제공됨 |
  | 가상화       | ✅ 사용자 관리 | ❌ 제공됨      | ❌ 제공됨      | ❌ 제공됨 |
  | 서버         | ✅ 사용자 관리 | ❌ 제공됨      | ❌ 제공됨      | ❌ 제공됨 |
  | 스토리지     | ✅ 사용자 관리 | ❌ 제공됨      | ❌ 제공됨      | ❌ 제공됨 |
  | 네트워킹     | ✅ 사용자 관리 | ❌ 제공됨      | ❌ 제공됨      | ❌ 제공됨 |

- 도커는 운영체제 위에서 동작하며 컨테이너 단위로 애플리케이션을 수행하는데  
  이를 이용해서 환경을 격리시켜 버전 충돌문제를 해결할 수 있습니다.

### 🔸 2.2.2 컨테이너의 개념

- 소프트웨어에서의 컨테이너란 배포할 때 필요한 코드, 라이브러리, 환경 설정 파일등을  
  모두 모아 격리시킨 후 실행가능한 패키지로 만든것을 의미합니다. → 이런 구축방식이 MSA의 기반이 됨

- 격리된 컨테이너들은 동일한 운영체제 위에서 동작하기 때문에 서로 통신을 주고받을 수 있습니다.

### 🔸 2.2.3 가상화의 개념

- 가상화란 컴퓨터에서 사용하는 리소스를 추상화한 개념을 의미하며  
  이를 활용해 어려 개의 가상머신을 생성하고 단일 컴퓨팅 자원을  
  여러개의 논리적인인 자원으로 나누어 동작시킬 수 있음!

- 가상화의 종류

  하이퍼바이저란? 단일 물리머신에서 다수의 가상머신을 실행할 때 활용하는 소프트웨어(VirtualBox, VMware)

  > **호스트 가상화**
  >
  > - 운영체제 설치 후 하이퍼바이저를 통해 가상머신을 만들고  
  >    각 내부에 **게스트 운영체제**가 설치되는 방식

  > **하이퍼바이저 가상화**
  >
  > - 호스트 가상화와는 달리 호스트 운영체제를 필요로하지 않는 방식이 해당되며 부팅 시 가상머신을 선택하게 됨!

  > **컨테이너 가상화**
  >
  > - 운영체제 위에 도커 위에 컨테이너를 통해 애플리케이션을 실행하는 방식!

### 🔸 2.2.4 도커의 구성요소

- **docker-cli** : 도커 클라이언트, 실제 터미널로 명령을 내리는 부분

- **dockerd** : 도커 데몬, docker-cli과 통신하며 백그라운드에서 되는 데몬 프로세스에 해당  
  주로 API 요청을 수신, 이미지, 컨테이너 등의 객체를 관리함

- **containerd** : 컨테이너 실행 및 관리 기능을 수행하는 오픈소스 고수준 컨테이너 런타임  
  컨테이너의 라이프사이클을 모두 관리(이미지 전송, 컨테이너 실행, 스토리지, 네트워크 등)

- **runc** : 컨테이너 실행과 관련된 작업을 수행하는 저수준 컨테이너 런타임

- **containerd-shim** : containerd와 runc 사이에서 작동하는 중개자 역할을 수행
